@{
    ViewBag.Title = "Visitors by browser";
}

@section scripts
{
    @Styles.Render("~/Content/datatables")
    @Scripts.Render("~/bundles/datatables")

    <script>
        $('#datatable').DataTable({
            "serverSide": true,
            //"processing": true,
            "ajax": {
                "type": "GET",
                'ajax': '@Url.Action("GetVisitorsByBrowser", "Analytics", null, Request.Url.Scheme)',
                //"url": '/Analytics/GetVisitorsByBrowser/',
                'data': function(data) {
                    return JSON.stringify(data);
                                },
                "dataSrc": "data"
            },
            "columns": [
                {
                    data: 'Dimension',
                    sortable: false,
                    searchable: true
                },
                {
                    data: 'Users',
                    sortable: false,
                    searchable: false
                },
                {
                    data: 'Pageviews',
                    sortable: false,
                    searchable: false
                },
                {
                    data: 'BounceRate',
                    sortable: false,
                    searchable: false
                },
                {
                    data: 'OrganicSearches',
                    sortable: false,
                    searchable: false
                }
            ]
        });


        $.ajax({
            type: "GET",
            url: "/Analytics/GetVisitorsByBrowser/",
            'data': function (data) {
                console.log(data);
                return JSON.stringify(data);
            },
            success: function(resultData) {
                console.log(resultData);
            }
        });

    </script>

}


@*$('#users-table').dataTable({*@
@*  'serverSide': true,*@
@*  'ajax': '@Url.Action("ListUsers", "Businesses", null, Request.Url.Scheme)'*@
@*});*@

<h2>Visitors by browser</h2>


<table id="datatable" class="table table-striped table-bordered" cellspacing="0"  width="100%">
    <thead>
    <tr>
        <th>Dimension</th>
        <th>Users</th>
        <th>BounceRate</th>
        <th>Pageviews</th>
        <th>OrganicSearches</th>
    </tr>
    </thead>
    <tfoot>
    <tr>
        <th>Dimension</th>
        <th>Users</th>
        <th>BounceRate</th>
        <th>Pageviews</th>
        <th>OrganicSearches</th>
    </tr>
    </tfoot>
</table>